<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:insert="~{index :: head}"></head>
<body>
   
    <div th:insert="~{index :: navbar}"></div>

    <div th:if="${successMessage}">
        <p th:text="${successMessage}"></p>
    </div>

    <h1>All Articles</h1>

    <div th:if="${articles.size() > 0}" th:each="article : ${articles}">
        <img th:if="${article.images.size() > 0}" th:src="${article.images[0].path}" alt="">
        <img th:unless="${article.images.size() > 0}" th:src="@{/images/default.png}" alt="">

        <h2 th:text="${article.title}"></h2>
        <h3 th:text="${article.subtitle}"></h3>
        <h4 th:text="${article.user.username}"></h4>

        <a th:href="@{/articles/detail/{id}(id=${article.id})}"> Details</a>
    </div>

    <div th:unless="${articles.size() > 0}">
        <p>No articles found</p>
    </div>

</body>
</html>
